{% extends 'frontend/base.html' %}
{% load static %}

{% block page_css %}
<link rel="stylesheet" href="{% static 'frontend/crypto.css' %}">
{% endblock %}

{% block title %}Cryptocurrency{% endblock %}

{% block content %}

<div class="landing">
  <div class="container">

      {% include 'frontend/components/navbar.html' %}

      <div class="content">
         <h1>BUY & <br> SELL <span>Crypto</span></h1>
         <p>World best Cryptocurrency exchange available <br> on mobile as well as mobile phone</p>
         <button class="btn-primary">EXPLORE MORE</button>
      </div>

      <div class="coin-list">
          <div class="coin" data-coin="Bitcoin" data-symbol="BTC" data-price="$42,100" data-image="{% static 'frontend/images/bitcoin.png' %}" data-wallet="bitcoin:1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa">
              <img src="{% static 'frontend/images/bitcoin.png' %}" alt="bitcoin">
              <div>
                  <h3>$ <span id="bitcoin"></span></h3>
                  <p>Bitcoin</p>
              </div>
          </div>

          <div class="coin" data-coin="Dogecoin" data-symbol="DOGE" data-price="$0.08" data-image="{% static 'frontend/images/dogecoin.png' %}" data-wallet="dogecoin:D8zsw1e...">
              <img src="{% static 'frontend/images/dogecoin.png' %}" alt="dogecoin">
              <div>
                  <h3>$ <span id="dogecoin"></span></h3>
                  <p>Dogecoin</p>
              </div>
          </div>

          <div class="coin" data-coin="Ethereum" data-symbol="ETH" data-price="$3,100" data-image="{% static 'frontend/images/ethereum.png' %}" data-wallet="ethereum:0x742d35Cc6634C0532925a3b844Bc454e4438f44e">
              <img src="{% static 'frontend/images/ethereum.png' %}" alt="ethereum">
              <div>
                  <h3>$ <span id="ethereum"></span></h3>
                  <p>Ethereum</p>
              </div>
          </div>
      </div>

     {# include the payment modal component so the scripts can find it #}
     {% include 'frontend/components/modal_payment.html' %}

  </div>
</div>

{% endblock %}

{% block scripts %}
<script>
// CSRF helper for fetch APIs (Django)
function getCookie(name){
  var cookieValue = null;
  if (document.cookie && document.cookie !== ''){
    var cookies = document.cookie.split(';');
    for (var i = 0; i < cookies.length; i++){
      var cookie = cookies[i].trim();
      if (cookie.substring(0, name.length + 1) === (name + '=')){
        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
        break;
      }
    }
  }
  return cookieValue;
}
var csrftoken = getCookie('csrftoken');
</script>
{% endblock %}
